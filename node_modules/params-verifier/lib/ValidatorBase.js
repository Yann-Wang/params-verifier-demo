'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _Err = require('./Err');

var _dataType = require('./dataType');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ValidatorBase = function () {
    function ValidatorBase() {
        (0, _classCallCheck3.default)(this, ValidatorBase);

        this.typeList = ['number', 'boolean', 'string', 'date', 'array', 'object'];
        this.currentFieldInfo = {};
        this.filteredField = {};
    }

    (0, _createClass3.default)(ValidatorBase, [{
        key: 'fetchFieldInfo',
        value: function fetchFieldInfo(name, value, type) {
            var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

            var fieldInfo = {
                name: name,
                value: value,
                type: type,
                businessType: options.type,
                businessTypeErrMsg: options.typeErrMsg,
                validator: options.validator,
                validatorErrMsg: options.validatorErrMsg,
                range: options.range
            };

            if (this.options.required !== undefined) {
                fieldInfo.required = this.options.required;
            }
            if (options.required !== undefined) {
                fieldInfo.required = options.required;
            }

            if (this.options.stringNotEmpty !== undefined) {
                fieldInfo.stringNotEmpty = this.options.stringNotEmpty;
            }
            if (options.stringNotEmpty !== undefined) {
                fieldInfo.stringNotEmpty = options.stringNotEmpty;
            }

            return fieldInfo;
        }
    }, {
        key: 'validate',
        value: function validate() {
            this.checkParams();
            return this.whetherToValidate();
        }
    }, {
        key: 'checkParams',
        value: function checkParams() {
            this.checkFieldNameAndType();
            this.checkOptionsParamsSupport();
        }
    }, {
        key: 'checkFieldNameAndType',
        value: function checkFieldNameAndType() {
            var _currentFieldInfo = this.currentFieldInfo,
                name = _currentFieldInfo.name,
                type = _currentFieldInfo.type;

            if (!(0, _dataType.isStr)(name)) {
                throw new _Err.ParamsError('the type of name must be string');
            }

            if (!(0, _dataType.isStr)(type)) {
                throw new _Err.ParamsError('the value of type must be a string');
            }
            if (this.typeList.indexOf(type) === -1) {
                throw new _Err.ParamsError('the type of ' + type + ' is not supported');
            }
        }
    }, {
        key: 'checkOptionsValidator',
        value: function checkOptionsValidator() {
            var _currentFieldInfo2 = this.currentFieldInfo,
                validator = _currentFieldInfo2.validator,
                validatorErrMsg = _currentFieldInfo2.validatorErrMsg;


            if (validator !== undefined) {
                if (!(0, _dataType.isFunc)(validator)) {
                    throw new _Err.ParamsError(validatorErrMsg || 'the type of options.validator must be function.');
                }
            }
        }
    }, {
        key: 'checkOptionsRequired',
        value: function checkOptionsRequired() {
            var required = this.currentFieldInfo.required;


            if (required !== undefined) {
                if (typeof required !== 'boolean') {
                    throw new _Err.ParamsError('the type of options.required must be boolean');
                }
            }
        }
    }, {
        key: 'whetherToValidate',
        value: function whetherToValidate() {
            var _currentFieldInfo3 = this.currentFieldInfo,
                required = _currentFieldInfo3.required,
                value = _currentFieldInfo3.value,
                name = _currentFieldInfo3.name;

            if (required || value !== undefined) {
                this.startValidateProcedure();
                this.recordFilteredField();
                return (0, _defineProperty3.default)({}, name, this.currentFieldInfo.value);
            }
            return false;
        }
    }, {
        key: 'recordFilteredField',
        value: function recordFilteredField() {
            var name = this.currentFieldInfo.name;

            this.filteredField[name] = this.currentFieldInfo.value;
        }
    }, {
        key: 'runValidator',
        value: function runValidator() {
            var _currentFieldInfo4 = this.currentFieldInfo,
                validator = _currentFieldInfo4.validator,
                validatorErrMsg = _currentFieldInfo4.validatorErrMsg,
                name = _currentFieldInfo4.name,
                value = _currentFieldInfo4.value;


            if (validator !== undefined) {
                var validationStatus = validator(value);
                if (!validationStatus) {
                    throw new _Err.ParamsError(validatorErrMsg || 'the value of field ' + name + ' don\'t match the validator.');
                }
            }
        }
    }, {
        key: 'filteredSingleField',
        value: function filteredSingleField() {
            return this.filteredField;
        }
    }]);
    return ValidatorBase;
}();

exports.default = ValidatorBase;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9WYWxpZGF0b3JCYXNlLmpzIl0sIm5hbWVzIjpbIlZhbGlkYXRvckJhc2UiLCJ0eXBlTGlzdCIsImN1cnJlbnRGaWVsZEluZm8iLCJmaWx0ZXJlZEZpZWxkIiwibmFtZSIsInZhbHVlIiwidHlwZSIsIm9wdGlvbnMiLCJmaWVsZEluZm8iLCJidXNpbmVzc1R5cGUiLCJidXNpbmVzc1R5cGVFcnJNc2ciLCJ0eXBlRXJyTXNnIiwidmFsaWRhdG9yIiwidmFsaWRhdG9yRXJyTXNnIiwicmFuZ2UiLCJyZXF1aXJlZCIsInVuZGVmaW5lZCIsInN0cmluZ05vdEVtcHR5IiwiY2hlY2tQYXJhbXMiLCJ3aGV0aGVyVG9WYWxpZGF0ZSIsImNoZWNrRmllbGROYW1lQW5kVHlwZSIsImNoZWNrT3B0aW9uc1BhcmFtc1N1cHBvcnQiLCJpbmRleE9mIiwic3RhcnRWYWxpZGF0ZVByb2NlZHVyZSIsInJlY29yZEZpbHRlcmVkRmllbGQiLCJ2YWxpZGF0aW9uU3RhdHVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztJQUVxQkEsYTtBQUNqQiw2QkFBYztBQUFBOztBQUNWLGFBQUtDLFFBQUwsR0FBZ0IsQ0FBQyxRQUFELEVBQVcsU0FBWCxFQUFzQixRQUF0QixFQUFnQyxNQUFoQyxFQUF3QyxPQUF4QyxFQUFpRCxRQUFqRCxDQUFoQjtBQUNBLGFBQUtDLGdCQUFMLEdBQXdCLEVBQXhCO0FBQ0EsYUFBS0MsYUFBTCxHQUFxQixFQUFyQjtBQUNIOzs7O3VDQUVjQyxJLEVBQU1DLEssRUFBT0MsSSxFQUFvQjtBQUFBLGdCQUFkQyxPQUFjLHVFQUFKLEVBQUk7O0FBQzVDLGdCQUFNQyxZQUFZO0FBQ2RKLDBCQURjO0FBRWRDLDRCQUZjO0FBR2RDLDBCQUhjO0FBSWRHLDhCQUFjRixRQUFRRCxJQUpSO0FBS2RJLG9DQUFvQkgsUUFBUUksVUFMZDtBQU1kQywyQkFBV0wsUUFBUUssU0FOTDtBQU9kQyxpQ0FBaUJOLFFBQVFNLGVBUFg7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O0FBQUEsZ0JBS1BDLEtBTE8sc0JBS1BBLEtBTE87OztBQVFYLGdCQUFJTyxjQUFjSSxTQUFsQixFQUE2QjtBQUN6QixvQkFBTVMsbUJBQW1CYixVQUFVUCxLQUFWLENBQXpCO0FBQ0Esb0JBQUksQ0FBQ29CLGdCQUFMLEVBQXVCO0FBQ25CLDBCQUFNLHFCQUFnQlosMkNBQXlDVCxJQUF6QyxpQ0FBaEIsQ0FBTjtBQUNIO0FBQ0o7QUFDSjs7OzhDQUVxQjtBQUNsQixtQkFBTyxLQUFLRCxhQUFaO0FBQ0g7Ozs7O2tCQWpIZ0JILGEiLCJmaWxlIjoiVmFsaWRhdG9yQmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcmFtc0Vycm9yIH0gZnJvbSAnLi9FcnInO1xuaW1wb3J0IHsgaXNTdHIsIGlzRnVuYyB9IGZyb20gJy4vZGF0YVR5cGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWxpZGF0b3JCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50eXBlTGlzdCA9IFsnbnVtYmVyJywgJ2Jvb2xlYW4nLCAnc3RyaW5nJywgJ2RhdGUnLCAnYXJyYXknLCAnb2JqZWN0J107XG4gICAgICAgIHRoaXMuY3VycmVudEZpZWxkSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmZpbHRlcmVkRmllbGQgPSB7fTtcbiAgICB9XG5cbiAgICBmZXRjaEZpZWxkSW5mbyhuYW1lLCB2YWx1ZSwgdHlwZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGZpZWxkSW5mbyA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBidXNpbmVzc1R5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIGJ1c2luZXNzVHlwZUVyck1zZzogb3B0aW9ucy50eXBlRXJyTXNnLFxuICAgICAgICAgICAgdmFsaWRhdG9yOiBvcHRpb25zLnZhbGlkYXRvcixcbiAgICAgICAgICAgIHZhbGlkYXRvckVyck1zZzogb3B0aW9ucy52YWxpZGF0b3JFcnJNc2csXG4gICAgICAgICAgICByYW5nZTogb3B0aW9ucy5yYW5nZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVxdWlyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmllbGRJbmZvLnJlcXVpcmVkID0gdGhpcy5vcHRpb25zLnJlcXVpcmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlcXVpcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpZWxkSW5mby5yZXF1aXJlZCA9IG9wdGlvbnMucmVxdWlyZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0cmluZ05vdEVtcHR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpZWxkSW5mby5zdHJpbmdOb3RFbXB0eSA9IHRoaXMub3B0aW9ucy5zdHJpbmdOb3RFbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zdHJpbmdOb3RFbXB0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmaWVsZEluZm8uc3RyaW5nTm90RW1wdHkgPSBvcHRpb25zLnN0cmluZ05vdEVtcHR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpZWxkSW5mbztcbiAgICB9XG5cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5jaGVja1BhcmFtcygpO1xuICAgICAgICByZXR1cm4gdGhpcy53aGV0aGVyVG9WYWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGNoZWNrUGFyYW1zKCkge1xuICAgICAgICB0aGlzLmNoZWNrRmllbGROYW1lQW5kVHlwZSgpO1xuICAgICAgICB0aGlzLmNoZWNrT3B0aW9uc1BhcmFtc1N1cHBvcnQoKTtcbiAgICB9XG5cbiAgICBjaGVja0ZpZWxkTmFtZUFuZFR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gdGhpcy5jdXJyZW50RmllbGRJbmZvO1xuICAgICAgICBpZiAoIWlzU3RyKG5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyYW1zRXJyb3IoJ3RoZSB0eXBlIG9mIG5hbWUgbXVzdCBiZSBzdHJpbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTdHIodHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJhbXNFcnJvcigndGhlIHZhbHVlIG9mIHR5cGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnR5cGVMaXN0LmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyYW1zRXJyb3IoYHRoZSB0eXBlIG9mICR7dHlwZX0gaXMgbm90IHN1cHBvcnRlZGApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tPcHRpb25zVmFsaWRhdG9yKCkge1xuICAgICAgICBjb25zdCB7IHZhbGlkYXRvciwgdmFsaWRhdG9yRXJyTXNnIH0gPSB0aGlzLmN1cnJlbnRGaWVsZEluZm87XG5cbiAgICAgICAgaWYgKHZhbGlkYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIWlzRnVuYyh2YWxpZGF0b3IpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcmFtc0Vycm9yKHZhbGlkYXRvckVyck1zZyB8fCAndGhlIHR5cGUgb2Ygb3B0aW9ucy52YWxpZGF0b3IgbXVzdCBiZSBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrT3B0aW9uc1JlcXVpcmVkKCkge1xuICAgICAgICBjb25zdCB7IHJlcXVpcmVkIH0gPSB0aGlzLmN1cnJlbnRGaWVsZEluZm87XG5cbiAgICAgICAgaWYgKHJlcXVpcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVxdWlyZWQgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXJhbXNFcnJvcigndGhlIHR5cGUgb2Ygb3B0aW9ucy5yZXF1aXJlZCBtdXN0IGJlIGJvb2xlYW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdoZXRoZXJUb1ZhbGlkYXRlKCkge1xuICAgICAgICBjb25zdCB7IHJlcXVpcmVkLCB2YWx1ZSwgbmFtZSB9ID0gdGhpcy5jdXJyZW50RmllbGRJbmZvO1xuICAgICAgICBpZiAocmVxdWlyZWQgfHwgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFZhbGlkYXRlUHJvY2VkdXJlKCk7XG4gICAgICAgICAgICB0aGlzLnJlY29yZEZpbHRlcmVkRmllbGQoKTtcbiAgICAgICAgICAgIHJldHVybiB7IFtuYW1lXTogdGhpcy5jdXJyZW50RmllbGRJbmZvLnZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlY29yZEZpbHRlcmVkRmllbGQoKSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gdGhpcy5jdXJyZW50RmllbGRJbmZvO1xuICAgICAgICB0aGlzLmZpbHRlcmVkRmllbGRbbmFtZV0gPSB0aGlzLmN1cnJlbnRGaWVsZEluZm8udmFsdWU7XG4gICAgfVxuXG4gICAgcnVuVmFsaWRhdG9yKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB2YWxpZGF0b3IsXG4gICAgICAgICAgICB2YWxpZGF0b3JFcnJNc2csXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgfSA9IHRoaXMuY3VycmVudEZpZWxkSW5mbztcblxuICAgICAgICBpZiAodmFsaWRhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25TdGF0dXMgPSB2YWxpZGF0b3IodmFsdWUpO1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcmFtc0Vycm9yKHZhbGlkYXRvckVyck1zZyB8fCBgdGhlIHZhbHVlIG9mIGZpZWxkICR7bmFtZX0gZG9uJ3QgbWF0Y2ggdGhlIHZhbGlkYXRvci5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbHRlcmVkU2luZ2xlRmllbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkRmllbGQ7XG4gICAgfVxufVxuIl19